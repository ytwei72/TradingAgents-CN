# News 模块环境变量配置示例
# 复制此文件为 .env 并填入您的真实API密钥

# ===== API 密钥 =====

# 📰 NewsAPI 密钥 (可选,用于获取英文新闻)
# 获取地址: https://newsapi.org/
NEWSAPI_KEY=your_newsapi_key_here

# 📊 Alpha Vantage API 密钥 (可选,用于获取新闻情绪分析)
# 获取地址: https://www.alphavantage.co/
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here

# 📈 FinnHub API 密钥 (推荐,用于获取美股新闻)
# 获取地址: https://finnhub.io/
# 注意: 此密钥也可以从全局 .env 继承
FINNHUB_API_KEY=your_finnhub_key_here

# 📊 Tushare Token (推荐,用于获取A股新闻)
# 获取地址: https://tushare.pro/
# 注意: 此密钥也可以从全局 .env 继承
TUSHARE_TOKEN=your_tushare_token_here

# 📰 EODHD API Token (可选,用于获取港股/美股新闻)
# 获取地址: https://eodhd.com/
EODHD_API_TOKEN=your_eodhd_token_here

# ===== 数据源启用状态 =====
# 支持的值: true/false

# FinnHub (美股首选)
NEWS_FINNHUB_ENABLED=true

# Alpha Vantage (美股备选)
NEWS_ALPHA_VANTAGE_ENABLED=false

# NewsAPI (通用新闻)
NEWS_NEWSAPI_ENABLED=false

# Tushare (A股推荐)
NEWS_TUSHARE_ENABLED=true

# EODHD (港股首选)
NEWS_EODHD_ENABLED=false

# Google News (通用新闻)
NEWS_GOOGLE_NEWS_ENABLED=false

# ===== AkShare 数据源细分配置 =====
# 可以单独控制每个 AkShare 新闻源的开关

# 财联社电报
NEWS_AKSHARE_CLS_ENABLED=true

# 新浪财经全球财经
NEWS_AKSHARE_SINA_ENABLED=true

# 东方财富全球财经
NEWS_AKSHARE_EM_ENABLED=true


# ===== 获取配置 =====

# 📅 默认回溯时间(小时)
# 从当前时间向前回溯多少小时的新闻
NEWS_DEFAULT_HOURS_BACK=6

# 📊 默认最大新闻数量
# 每次获取的最大新闻条数
NEWS_DEFAULT_MAX_NEWS=10

# 🔍 新闻相关性阈值 (0.0-1.0)
# 低于此阈值的新闻将被过滤
NEWS_RELEVANCE_THRESHOLD=0.3

# ⏰ 新闻时效性阈值(分钟)
# 超过此时间的新闻会被标记为"过时"
NEWS_FRESHNESS_THRESHOLD=60

# ===== 缓存配置 =====

# 🗄️ 启用新闻缓存
# 缓存可以减少API调用,提高响应速度
NEWS_CACHE_ENABLED=true

# ⏱️ 新闻缓存过期时间(秒)
# 1800秒 = 30分钟
NEWS_CACHE_EXPIRY=1800

# 📁 新闻缓存目录
# 相对于项目根目录的路径
NEWS_CACHE_DIR=./cache/news

# ===== 日志配置 =====

# 📝 News 模块日志级别
# 可选值: DEBUG, INFO, WARNING, ERROR
NEWS_LOG_LEVEL=INFO

# 🔍 启用详细日志
# 显示每个新闻源的详细信息
NEWS_VERBOSE_LOGGING=false

# ===== 高级配置 =====

# 🌐 请求超时时间(秒)
# API请求的最大等待时间
NEWS_REQUEST_TIMEOUT=10

# 🔄 最大重试次数
# API请求失败后的重试次数
NEWS_MAX_RETRIES=3

# ⏳ 重试延迟(秒) - 用于指数退避的基础延迟
NEWS_RETRY_DELAY=1

# 🔁 可重试的 HTTP 状态码 (逗号分隔)
# 403: Forbidden (可能是临时限制，暂时不用)
# 429: Too Many Requests (速率限制)
# 500-504: 服务器错误
NEWS_RETRY_STATUS_CODES=429,500,502,503,504

# 🚦 API 请求限流(每秒最大请求数)
# 防止超过API限制
NEWS_RATE_LIMIT=5

# ===== 使用说明 =====
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 编辑 .env 文件,填入您的真实API密钥
# 3. 根据需要启用/禁用数据源
# 4. 调整获取配置和缓存配置
# 5. 运行测试验证配置: python tradingagents/news/test_news.py

# ===== 推荐配置 =====

# 免费方案(A股):
#   NEWS_AKSHARE_CLS_ENABLED=true
#   NEWS_AKSHARE_SINA_ENABLED=true
#   NEWS_AKSHARE_EM_ENABLED=true
#   NEWS_TUSHARE_ENABLED=true (需要注册)
#   其他数据源=false

# 全球市场方案:
#   NEWS_AKSHARE_CLS_ENABLED=true (A股财联社)
#   NEWS_AKSHARE_SINA_ENABLED=true (A股新浪)
#   NEWS_AKSHARE_EM_ENABLED=true (A股东方财富)
#   NEWS_FINNHUB_ENABLED=true (美股,需要API Key)
#   NEWS_EODHD_ENABLED=true (港股,需要API Token)

# 完整方案(所有市场):
#   所有数据源=true
#   需要配置所有API密钥
